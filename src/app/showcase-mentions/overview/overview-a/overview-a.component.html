<div class="mentions-demo-container">
  <textarea cols="80"
            rows="10"
            #textareaRef
            placeholder="Enter '@' and start typing some name, e.g. 'Doe'"
            [(ngModel)]="text"></textarea>

  <ng-template #menuTemplate
               let-selectChoice="selectChoice">
    <ul flxLoader
        [flxLoaderVisible]="loading"
        class="flx-selectable-list"
        [class.loader-only]="!choices.length && loading">

      <li *ngFor="let user of choices"
          class="flx-selectable-list-item"
          (click)="selectChoice(user)">
        <span title="{{user.name}}">{{user.name}}</span>
      </li>
    </ul>
  </ng-template>

  <flx-mentions [textInputElement]="textareaRef"
                [menuTemplate]="menuTemplate"
                [triggerCharacter]="'@'"
                [searchRegexp]="'^([-&.\\w]+ *){0,3}$'"
                [closeMenuOnBlur]="false"
                [getChoiceLabel]="getChoiceLabel"
                [selectedChoices]="getSelectedChoices()"
                (choicesSearch)="loadChoices($event)"
                (choiceSelected)="onChoiceSelected($event)"
                (choiceRemoved)="onChoiceRemoved($event)"
                (selectedChoicesChange)="onSelectedChoicesChange($event)"
                (menuShown)="onMenuShown()"
                (menuHidden)="onMenuHidden()"
                [tagCssClass]="'highlight-tag'"
                (tagClick)="onHighlighTagClick($event)"
                (tagMouseEnter)="onHighlightTagMouseEnter($event)"
                (tagMouseLeave)="onHighlightTagMouseLeave($event)"></flx-mentions>
</div>